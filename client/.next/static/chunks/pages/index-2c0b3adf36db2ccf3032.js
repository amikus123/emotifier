(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5620:function(e,n,t){"use strict";t.d(n,{Z:function(){return g}});var r=t(5893),o=t(1120),i=t(7623),a=t(1749),s=t(4436),c=t(4094),l=t(7900),u=t(7294),d=t(29),m=function(e){var n=e.text,t=e.setText,o=e.abs,i=void 0!==o&&o;return(0,r.jsx)(d.cW,{style:i?{width:"100%",position:"absolute",zIndex:400,top:"56px",left:0}:{width:"100%"},set:"twitter",title:"Select emoji",onClick:function(e){void 0!==e.native&&t(n+e.native)}})},A=function(e){return function(n){try{"deleteContentBackward"!==n.nativeEvent.inputType&&"deleteContentBackward"!==n.nativeEvent.inputType||e(n.target.value)}catch(t){console.error(t)}}};var g=function(e){var n,t,d,g=e.setText,f=e.text,p=e.abs,h=void 0!==p&&p,x=e.children,v=void 0===x?null:x,b=e.label,w=void 0===b?"":b,j=(0,u.useState)(!1),Z=j[0],k=j[1],y=(0,u.useRef)(null),C=(0,o.Z)((function(e){return(0,i.Z)({root:{position:"relative","& >*":{width:"100%"}}})}))();return n=y,t=k,(0,u.useEffect)((function(){function e(e){n.current&&!n.current.contains(e.target)&&(console.log("You clicked outside of me!"),t(!1))}return document.addEventListener("click",e),function(){document.removeEventListener("click",e)}}),[n,t]),(0,r.jsxs)(a.Z,{item:!0,ref:y,onFocus:function(){console.log(y.current.contains(document.activeElement),2),k(!0)},className:C.root,children:[null===v?(0,r.jsxs)(s.Z,{variant:"filled",children:[""!==w?(0,r.jsx)(c.Z,{htmlFor:"filled-adornment-password",children:(d=w,d.charAt(0).toUpperCase()+d.slice(1))}):null,(0,r.jsx)(l.Z,{inputProps:{autocomplete:"off"},name:w,type:"text",value:f,onChange:A(g)})]}):v,Z?(0,r.jsx)(m,{text:f,setText:g,abs:h}):null]})}},5932:function(e,n,t){"use strict";var r=t(5893),o=t(1120),i=t(7623),a=t(2318),s=t(1664),c=(t(7294),t(8308)),l={lg:"4.5rem",md:"2.25rem",sm:"1.5rem",inherit:"inherit"};n.Z=function(e){var n=e.className,t=void 0===n?"":n,u=e.size,d=void 0===u?"lg":u,m=e.round,A=void 0!==m&&m,g=e.image,f=void 0===g||g,p=(0,o.Z)((function(e){return(0,i.Z)({text:{fontSize:"inherit",fontFamily:"Expletus Sans",position:"relative",width:"fit-content",display:"flex",cursor:"pointer"},container:{fontSize:l[d],display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center"}})}))();return(0,r.jsx)(s.default,{href:"#",passHref:!0,children:(0,r.jsxs)("div",{className:"".concat(p.container," ").concat(t),children:[(0,r.jsx)(a.Z,{className:"".concat(p.text," "),children:"Emojifier "}),f?(0,r.jsx)(c.Z,{size:"inherit",withText:!0,round:A}):null]})})}},8308:function(e,n,t){"use strict";var r=t(5893),o=t(1120),i=t(7623),a=t(3901),s=(t(7294),t(1664)),c={lg:"4.5rem",md:"2.25rem",sm:"1.5rem",inherit:"inherit"};n.Z=function(e){var n=e.link,t=void 0!==n&&n,l=e.className,u=void 0===l?"":l,d=e.size,m=void 0===d?"lg":d,A=e.withText,g=void 0!==A&&A,f=e.round,p=void 0!==f&&f,h=(0,o.Z)((function(e){return(0,i.Z)({div:{width:"1em",height:"1em",position:"relative",display:"inline-block",marginLeft:"0.25rem",marginTop:g?"calc(-1em /3)":"0",fontSize:c[m]},round:{borderRadius:"50%",backgroundColor:"white"}})}))();return(0,r.jsx)(r.Fragment,{children:t?(0,r.jsx)(a.Z,{alt:"Rainbow",src:"./rainbowLogo.png",variant:"square",className:"".concat(h.div," ").concat(u," ").concat(p?h.round:"")}):(0,r.jsx)(s.default,{href:"#",passHref:!0,children:(0,r.jsx)(a.Z,{alt:"Rainbow",src:"./rainbowLogo.png",variant:"square",className:"".concat(h.div," ").concat(u," ").concat(p?h.round:"")})})})}},4084:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return ie}});var r=t(5893),o=t(4942),i=t(7294),a=t(5675),s={src:"/_next/static/image/public/landingBackground.56bb5936df942bffc01b393be4018756.jpg",height:1080,width:1920,blurDataURL:"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/sBCgoKCgoKCwwMCw8QDhAPFhQTExQWIhgaGBoYIjMgJSAgJSAzLTcsKSw3LVFAODhAUV5PSk9ecWVlcY+Ij7u7+//CABEIAAUACAMBIgACEQEDEQH/xAAUAAEAAAAAAAAAAAAAAAAAAAAH/9oACAEBAAAAAEX/xAAUAQEAAAAAAAAAAAAAAAAAAAAF/9oACAECEAAAABv/xAAUAQEAAAAAAAAAAAAAAAAAAAAE/9oACAEDEAAAAH//xAAXEAEAAwAAAAAAAAAAAAAAAAABABES/9oACAEBAAE/AMFM/8QAFxEAAwEAAAAAAAAAAAAAAAAAAAECQv/aAAgBAgEBPwC4lZR//8QAFREBAQAAAAAAAAAAAAAAAAAAAAH/2gAIAQMBAT8Aj//Z"},c=t(8920),l=t(1120),u=t(7623),d=t(1749),m=t(2318),A=t(1664),g=t(5932),f=t(7757),p=t.n(f),h=t(5861),x=t(2529),v=t(282),b=t(3901),w=function(e){var n=e.icon,t=e.onClick,o=e.className,i=e.children,a=(0,l.Z)((function(e){return(0,u.Z)({root:{justifyContent:"start",border:"0px  solid !important",fontWeight:"bold"}})}))();return(0,r.jsx)(v.Z,{className:"".concat(o," ").concat(a.root),size:"large",variant:"contained",onClick:t,startIcon:(0,r.jsx)(b.Z,{variant:"square",src:null!==n&&void 0!==n&&n.src?n.src:n,style:{marginRight:"0.25rem"}}),children:i})},j=t(4583),Z=t(8433),k=t(7689),y=t(2881),C=function(){var e=(0,h.Z)(p().mark((function e(n,t,r){var o;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=(0,k.JU)(y.db,"users",r),e.next=3,(0,k.QT)(o);case 3:return e.sent,e.next=6,(0,k.pl)(o,{username:n,email:t,userId:r});case 6:case"end":return e.stop()}}),e)})));return function(n,t,r){return e.apply(this,arguments)}}(),E=function(){var e=(0,h.Z)(p().mark((function e(n,t){var r,o;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=(0,k.JU)(y.db,"users",t),e.next=3,(0,k.QT)(r);case 3:if(!(o=e.sent).exists()){e.next=10;break}return e.next=7,(0,k.r7)(r,{username:n});case 7:console.log("Added nick:",o.data()),e.next=11;break;case 10:console.log("Document does not exist:");case 11:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),S=(0,j.v0)();console.log(S.currentUser);var N=function(){var e=(0,h.Z)(p().mark((function e(){var n,t,r,o,i,a,s=arguments;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>0&&void 0!==s[0]?s[0]:"",t=new j.hJ,e.prev=2,e.next=5,(0,j.rh)(S,t);case 5:return r=e.sent,o=r.user,i=j.hJ.credentialFromResult(r),i.accessToken,e.next=11,(0,Z.G)(o.uid);case 11:if(a=e.sent,console.log("logged with external"),null!==a||""===n){e.next=21;break}return e.next=16,C(n,o.email,o.uid);case 16:return console.log(n,"nick"),console.log(S.currentUser,"registered"),e.abrupt("return","registered");case 21:if(null===a){e.next=26;break}return console.log(S.currentUser,"logged"),e.abrupt("return","logged");case 26:return console.log(S.currentUser,"toRegister"),e.abrupt("return","toRegister");case 28:e.next=38;break;case 30:return e.prev=30,e.t0=e.catch(2),e.t0.code,e.t0.message,e.t0.email,j.hJ.credentialFromError(e.t0),console.log(e.t0),e.abrupt("return","error");case 38:case"end":return e.stop()}}),e,null,[[2,30]])})));return function(){return e.apply(this,arguments)}}(),T=function(){var e=(0,h.Z)(p().mark((function e(){var n,t,r,o,i,a,s=arguments;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>0&&void 0!==s[0]?s[0]:"",t=new j._O,e.prev=2,e.next=5,(0,j.rh)(S,t);case 5:return r=e.sent,o=r.user,i=j._O.credentialFromResult(r),i.accessToken,e.next=11,(0,Z.G)(o.uid);case 11:if(a=e.sent,console.log("logged with external"),null!==a||""===n){e.next=21;break}return e.next=16,C(n,o.email,o.uid);case 16:return console.log(n,"nick"),console.log(S.currentUser,"registered"),e.abrupt("return","registered");case 21:if(null===a){e.next=26;break}return console.log(S.currentUser,"logged"),e.abrupt("return","logged");case 26:return console.log(S.currentUser,"toRegister"),e.abrupt("return","toRegister");case 28:e.next=38;break;case 30:return e.prev=30,e.t0=e.catch(2),e.t0.code,e.t0.message,e.t0.email,j._O.credentialFromError(e.t0),console.log(e.t0),e.abrupt("return","error");case 38:case"end":return e.stop()}}),e,null,[[2,30]])})));return function(){return e.apply(this,arguments)}}(),B=t(2663),P=t(6083),F=t(9525),O=t(7212),R=t(6856),U=function(e){var n=e.open,t=e.handleClose,o=e.children,i=e.dialogTitle;return(0,r.jsxs)(B.Z,{open:n,onClose:t,"aria-labelledby":"form-dialog-title",children:[(0,r.jsx)(P.Z,{id:"form-dialog-title",children:i}),(0,r.jsxs)(F.Z,{children:[(0,r.jsx)(O.Z,{}),o]}),(0,r.jsx)(R.Z,{children:(0,r.jsx)(v.Z,{onClick:t,color:"primary",children:"Close"})})]})},I=function(){var e=(0,h.Z)(p().mark((function e(n){var t,r,o,i,a,s,c,l;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.username,r=n.email,o=n.password,e.prev=1,i=(0,j.v0)(),console.log("registerWithEmailAndPassword"),e.next=6,(0,j.Xb)(i,r,o);case 6:return a=e.sent,s=a.user,e.next=10,E(t,s.uid);case 10:return e.next=12,C(t,r,s.uid);case 12:console.log(s,"udalo sie"),e.next=20;break;case 15:e.prev=15,e.t0=e.catch(1),c=e.t0.code,l=e.t0.message,console.error(c,l);case 20:case"end":return e.stop()}}),e,null,[[1,15]])})));return function(n){return e.apply(this,arguments)}}(),Q=function(){var e=(0,h.Z)(p().mark((function e(n){var t,r,o,i,a,s;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.email,r=n.password,console.log("loginWithEmailAndPassword"),e.prev=2,o=(0,j.v0)(),e.next=6,(0,j.e5)(o,t,r);case 6:i=e.sent,i.user,console.log("logged with email"),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(2),a=e.t0.code,s=e.t0.message,console.error(a,s);case 16:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(n){return e.apply(this,arguments)}}(),D=t(9659),_=t(4436),z=t(4094),W=t(7900),L=function(e){var n=e.setEmail,t=e.email;return(0,r.jsx)(d.Z,{item:!0,children:(0,r.jsxs)(_.Z,{variant:"filled",children:[(0,r.jsx)(z.Z,{htmlFor:"filled-adornment-password",children:"Email"}),(0,r.jsx)(W.Z,{id:"name-input",name:"name",type:"email",value:t,onChange:function(e){n(e.target.value)}})]})})},H=t(7397),M=t(7812),J=t(1270),G=t(1738),V=function(e){var n=e.password,t=e.setPassword,o=(0,i.useState)(!1),a=o[0],s=o[1],c=function(){s(!a)};return(0,r.jsxs)(_.Z,{variant:"filled",children:[(0,r.jsx)(z.Z,{htmlFor:"filled-adornment-password",children:"Password"}),(0,r.jsx)(W.Z,{id:"filled-adornment-password",type:a?"text":"password",value:n,onChange:function(e){t(e.target.value)},endAdornment:(0,r.jsx)(H.Z,{position:"end",children:(0,r.jsx)(M.Z,{"aria-label":"toggle password visibility",onClick:c,onMouseDown:c,edge:"end",children:a?(0,r.jsx)(J.Z,{}):(0,r.jsx)(G.Z,{})})})})]})},X=t(5620),K=t(1163);function Y(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function q(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Y(Object(t),!0).forEach((function(n){(0,o.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Y(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var $={emailLogin:{defaultValues:{email:"",password:"",username:null}},emailRegistration:{defaultValues:{username:"",email:"",password:""}},usernameInput:{defaultValues:{username:"",password:null,email:null}}},ee=function(e){var n=e.handleSubmit,t=e.type,a=(0,i.useState)($[t].defaultValues),s=a[0],c=a[1],m=(0,K.useRouter)(),A=(0,l.Z)((function(e){return(0,u.Z)({root:{"&  >div":{width:"400px",paddingBottom:"2rem","& >div":{width:"100%"}}}})}))(),g=function(e){return function(n){c(q(q({},s),{},(0,o.Z)({},e,n)))}};return(0,r.jsx)("form",{onSubmit:function(){var e=(0,h.Z)(p().mark((function e(r){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("submited"),r.preventDefault(),"usernameInput"!==t){e.next=9;break}return e.next=5,n(s.username);case 5:"registered"===e.sent&&m.push("/feed"),e.next=11;break;case 9:return e.next=11,n(s);case 11:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),children:(0,r.jsxs)(d.Z,{container:!0,alignItems:"center",justify:"center",direction:"column",className:A.root,children:[null!==s.username?(0,r.jsx)(X.Z,{setText:g("username"),text:s.username,label:"nick"}):null,null!==s.email?(0,r.jsx)(L,{setEmail:g("email"),email:s.email}):null,null!==s.password?(0,r.jsx)(V,{setPassword:g("password"),password:s.password}):null,(0,r.jsx)(v.Z,{variant:"contained",color:"primary",type:"submit",onClick:function(){console.log("kilklo")},children:"Submit"})]})})},ne={google:{handleSubmit:N,icon:{src:"/_next/static/image/public/googleLogo.330a2dc7f18d7502647dc5d6f93812ec.svg",height:48,width:48},dialogTitle:"First enter your emoji nick"},facebook:{handleSubmit:T,icon:{src:"/_next/static/image/public/facebookLogo.383fbccbdccae9481e7c0839e040ca11.svg",height:24,width:24},dialogTitle:"First enter your emoji nick"},email:{handleSubmit:I,dialogTitle:"Register",icon:{src:"/_next/static/image/public/gmailLogo.058315f41d1084c2cedf5ccca93b0b2f.svg",height:1277,width:1277}},login:{dialogTitle:"Login",handleSubmit:Q}},te=function(e){var n=e.name,t=e.children,o=i.useState(!1),a=(0,x.Z)(o,2),s=a[0],c=a[1],l=function(){var e=(0,h.Z)(p().mark((function e(){var t;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("facebook"!==n&&"google"!==n){e.next=8;break}return e.next=3,ne[n].handleSubmit();case 3:t=e.sent,console.log(t,"rex"),"logged"===t||c(!0),e.next=9;break;case 8:c(!0);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,r.jsxs)(r.Fragment,{children:["login"!==n?(0,r.jsxs)(w,{onClick:l,icon:ne[n].icon,children:["Register with ",n]}):(0,r.jsx)(D.Z,{href:"",onClick:l,children:t}),(0,r.jsx)(U,{open:s,dialogTitle:ne[n].dialogTitle,handleClose:function(){c(!1)},children:function(){switch(n){case"google":case"facebook":return(0,r.jsx)(ee,{type:"usernameInput",handleSubmit:ne[n].handleSubmit});case"login":return(0,r.jsx)(ee,{type:"emailLogin",handleSubmit:ne[n].handleSubmit});default:return(0,r.jsx)(ee,{type:"emailRegistration",handleSubmit:ne[n].handleSubmit})}}()})]})},re=function(e){var n=e.className,t=void 0===n?"":n,i=(0,l.Z)((function(e){var n;return(0,u.Z)({root:(0,o.Z)({maxWidth:"25rem"},e.breakpoints.down("xs"),{maxHeight:"100vh"}),logo:(0,o.Z)({margin:"1rem 0",fontSize:"4.5rem"},e.breakpoints.down("xs"),{fontSize:"3.5rem!important"}),innerWrap:(0,o.Z)({maxWidth:"22rem",width:"90vw"},e.breakpoints.down("sm"),{margin:"0 auto!important"}),motto:(n={fontSize:"1.176rem",lineHeight:"2rem",marginBottom:"2.5rem"},(0,o.Z)(n,e.breakpoints.down("sm"),{fontSize:"1.5rem!important",textAlign:"center"}),(0,o.Z)(n,e.breakpoints.down("xs"),{fontSize:"1.25rem!important"}),n),buttonsWrap:(0,o.Z)({display:"flex",flexDirection:"column",justifyContent:"space-around",marginBottom:"1.5rem","&> *":{marginBottom:"1.5rem"}},e.breakpoints.down("sm"),{marginBottom:"0rem"}),agreement:(0,o.Z)({fontSize:"0.8125rem",lineHeight:"1rem",marginBottom:"1.5rem"},e.breakpoints.down("xs"),{}),logged:(0,o.Z)({fontSize:"1rem",lineHeight:"1rem",marginBottom:"1.5rem"},e.breakpoints.down("xs"),{})})}))();return(0,r.jsxs)(d.Z,{className:"".concat(i.root," ").concat(t),children:[(0,r.jsx)(g.Z,{className:i.logo}),(0,r.jsx)(m.Z,{className:i.motto,children:"Express yourself without words"}),(0,r.jsxs)(d.Z,{className:i.innerWrap,children:[(0,r.jsxs)(d.Z,{className:i.buttonsWrap,children:[(0,r.jsx)(te,{name:"google"}),(0,r.jsx)(te,{name:"facebook"}),(0,r.jsx)(te,{name:"email"})]}),(0,r.jsxs)(m.Z,{className:i.agreement,children:["By signing up, you agree to the",(0,r.jsx)(A.default,{href:"/tos",children:(0,r.jsx)("a",{children:" Terms of Service "})}),"and",(0,r.jsx)(A.default,{href:"/privacy",children:(0,r.jsx)("a",{children:" Privacy Policy "})}),", including",(0,r.jsx)(A.default,{href:"/cookies",children:(0,r.jsx)("a",{children:" Cookie Use "})}),"."]}),(0,r.jsxs)(m.Z,{className:i.logged,children:["Already have an account?\xa0",(0,r.jsx)(te,{name:"login",children:"Log in"})]})]})]})},oe=function(){(0,c.Z)();var e=(0,l.Z)((function(e){var n;return(0,u.Z)({root:(n={},(0,o.Z)(n,e.breakpoints.down("sm"),{flexDirection:"column-reverse",justifyContent:"center"}),(0,o.Z)(n,"flexWrap","nowrap"),(0,o.Z)(n,"height","100vh"),(0,o.Z)(n,"maxHeight","1500px"),n),imageContainer:(0,o.Z)({height:"100%",minWidth:"45vw",position:"relative",display:"flex",flexGrow:1},e.breakpoints.down("sm"),{minWidth:"100vw",display:"none"}),registerContainer:(0,o.Z)({width:"45vw",minWidth:"33rem",display:"flex",justifyContent:"center"},e.breakpoints.down("sm"),{minWidth:"1px",width:"100%"})})}))();return(0,r.jsxs)(d.Z,{className:e.root,container:!0,direction:"row",justifyContent:"center",alignItems:"center",children:[(0,r.jsx)(d.Z,{className:e.imageContainer,children:(0,r.jsx)(a.default,{src:s,layout:"fill",alt:"emoji background"})}),(0,r.jsx)(d.Z,{className:e.registerContainer,children:(0,r.jsx)(re,{})})]})};var ie=function(){return(0,r.jsx)(oe,{})}},5301:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(4084)}])}},function(e){e.O(0,[229,859,148,774,888,179],(function(){return n=5301,e(e.s=n);var n}));var n=e.O();_N_E=n}]);